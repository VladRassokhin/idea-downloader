<project name="idea-downloader-idea-common" default="nop" basedir=".">
    <import file="build.common.xml"/>

    <condition property="idea-for-win" value="yeah">
        <os family="windows"/>
    </condition>
    <condition property="idea-for-mac" value="cool">
        <os family="mac"/>
    </condition>

    <!-- external parameters -->
    <property name="idea-build-type" value="IDEA_Trunk_Installers"/>
    <property name="idea-build-number" value="latest.lastSuccessful"/>
    <property name="idea-version" value="trunk"/>
    <property name="idea-debug-port" value="5005"/>

    <!-- common paths -->
    <property name="idea-dest" location="${bin}/${idea-version}.app"/>
    <property name="idea-temp" location="${temp}/${idea-version}"/>
    <property name="idea-data" location="${data}/${idea-version}"/>
    <property name="idea-backup" location="${backup}/${idea-version}"/>
    <property name="idea-unpack" location="${idea-temp}/unzip"/>

    <!-- defaults -->
    <property name="idea-xmx" value="1424m" />
    <property name="idea-xms" value="512m" />
    <property name="idea-exe-vmoptions" value="idea.exe.vmoptions" />
    <property name="idea-exe-vmoptions64" value="idea64.exe.vmoptions" />
    <property name="idea-bat" value="idea.bat" />



    <target name="idea-properties" depends="idea-properties-mac, idea-properties-win"/>


    <target name="idea-properties-mac" if="idea-for-win">
        <property name="idea-ext" value="zip"/>
        <property name="idea-vmo" value="${idea-exe-vmoptions}"/>
    </target>

    <target name="idea-properties-win" if="idea-for-mac">
        <property name="idea-ext" value="dmg"/>
        <property name="idea-vmo" value="${idea-mac-vmoptions}"/>
    </target>


</project>
